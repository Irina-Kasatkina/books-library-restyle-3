# Парсер книг и генератор сайта для их чтения

Этот проект состоит из двух частей:
1. Скрипт *parse_tululu_category* - скачивает книги из каталога фантастики сайта [tululu.org](https://tululu.org/).
2. Скрипт *render_website* - создаёт на локальном диске сайт с каталогом для выбора и чтения скачанных книг.

## Пример страницы сгенерированного сайта

<image src="pages/demo.png" alt="Картинка с примером страницы сайта">

## Демо
Демо сайта можно посмотреть по [ссылке](https://irina-kasatkina.github.io/books-library-restyle-3/pages/index1.html)

## Использование

### I. Скачивание сайта для оффлайнового чтения книг

1. Скачайте этот проект с GitHub:
   - справа вверху этой страницы нажмите зелёную кнопку `Code`;
   - в открывшемся меню выберите пункт `Download ZIP`.

2. Создайте папку для оффлайнового сайта чтения книг в удобном вам месте на своём компьютере.

3. Найдите на своём компьютере скачавшийся файл `books-library-restyle-3-master.zip` и перенесите его в созданную папку.

4. Разархивируйте файл `books-library-restyle-3-master.zip`.

5. Нажмите в Проводнике Windows на файл `index.html` и сайт откроется в веб-браузере.

### II. Самостоятельное создание похожего сайта

#### 1. Установка

Для запуска скриптов вам понадобится Python 3.

Скачайте код с GitHub, перенесите его в подходящую папку и разархивируйте.

Для управления зависимостями Python желательно воспользоваться [virtualenv](https://pypi.org/project/virtualenv/).

Установите зависимости с помощью `pip` (или `pip3`, есть конфликт с Python2):
```
pip install -r requirements.txt
```

#### 2. Скачивание книг

Для скачивания на локальный диск книг из каталога фантастики сайта [tululu.org](https://tululu.org/) запустите консоль `cmd`, перейдите в каталог со скачанным с Github кодом проекта с помощью команды `cd` в командной строке консоли, затем наберите в командной строке команду:
```
python parse_tululu_category.py [аргументы]
```

##### Аргументы

- `-h`, `--help` - вывод справки;
- `s', `--start_page` - номер начальной страницы каталога фантастики сайта [tululu.org](https://tululu.org/) для скачивания. Например: `-s 5`. По умолчанию `1`.
- `-e`, `--end_page` — номер последней страницы каталога фантастики сайта [tululu.org](https://tululu.org/) для скачивания. Например: `-e 10`. Если параметр не указан, то скачаются книги только с одной страницы каталога.

##### Результат

Эта команда скачает тексты книг в подкаталог `media/books`, а картинки обложек - в подкаталог `media/images`. Также в подкаталоге `media` появится файл `books_details.json` c описанием скачанных книг, имеющий следующую структуру:
```
[
    {
        "title": "Алиби",
        "author": "ИВАНОВ Сергей",
        "img_filename": "239.jpg",
        "text_filename": "Алиби.txt",
        "genres": [
            "Научная фантастика",
            "Прочие Детективы"
        ]
    },
    {
      ...
    },
    ...
]
```

### 3. Создание оффлайнового сайта

Для создания на локальном компьютере сайта для чтения книг наберите в командной строке `cmd` команду:
```
python render_website.py
```
Чтобы увидеть созданный сайт, прервите выполнение скрипта нажатием `Ctrl+C` в командной строке `cmd`. Затем нажмите в Проводнике Windows на файл `index.html` и сайт откроется в веб-браузере.

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).